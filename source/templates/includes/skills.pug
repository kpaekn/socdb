if trait
  .trait-section
    each traitDescription, idx in trait.description
      .trait-container(class={'is-hidden': (idx > 0)}, data-tab=`trait-${idx}`, data-tab-group=slug(trait.name))
        .trait-type Trait
        .trait-stars
          each _, starIdx in trait.description
            a.star(data-tab=`trait-${starIdx}`, data-tab-group=slug(trait.name))
              i(class={
                'ri-star-fill': idx >= starIdx,
                'ri-star-line': idx < starIdx
              })
        h3.trait-name
          .skill-image
            img(src='images/skill/' + slug(trait.name) + '.png')
            img.skill-border(src='images/skill-border/epic.png')
          | #{trait.name}
          | (Lv.#{idx+1})
        .trait-description
          p !{traitDescription}

.flex-box
  .flex-box-left
    .skill-selection-menu.for-mobile
      each skillsByRank, rankName in skills
        h4
          i.gold.ri-gemini-fill
          | &nbsp;#{rankName}
        - var isSelected = (rankName === 'Init' ? 'is-selected' : '')
        .skill-image-container(class=isSelected)
          each skill, skillIdx in skillsByRank
            if skill
              if !skill.tabId || skillIdx == 0
                a.skill-image(data-rank=rankName)
                  img(src='images/skill/' + slug(skill.name) + '.png')
                  img.skill-border(src='images/skill-border/' + skill.rarity + '.png')
              if skillIdx == 1
                br
  .flex-box-right
    .skill-details-section.for-mobile
      each skillsByRank, rankName in skills
        - var isHidden = (rankName !== 'Init' ? 'is-hidden' : '')
        .trait-group(class=isHidden, data-rank=rankName)
          .ui.grid
            each skill, skillIdx in skillsByRank
              if !skill
                .eight.wide.computer.only.column
              else
                .sixteen.wide.tablet.column
                  .skill-container
                    .skill-type #{skill.type}
                    if skill.cost
                      .skill-cost
                        span.label
                          i.ri-gemini-fill 
                          | Cost:
                        span.value #{skill.cost}
                    if skill.cooldown 
                      .skill-cooldown
                        span.label
                          i.ri-hourglass-2-fill
                          | Cooldown:
                        span.value #{skill.cooldown}
                    h3.skill-name
                      .skill-image
                        img(src='images/skill/' + slug(skill.name) + '.png')
                        img.skill-border(src='images/skill-border/' + skill.rarity + '.png')
                      | #{skill.name}
                    .skill-description-container
                      .skill-description
                        p !{skill.description}
                      if skill.range
                        .skill-range
                          img(src='images/range/' + slug(skill.range) + '.png')
                        